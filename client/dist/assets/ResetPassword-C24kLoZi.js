import{r as t,u as m,j as e}from"./index-yNFFM0-c.js";const h="https://beydecks-production.up.railway.app/api";function f(){const[n,i]=t.useState(""),[o,u]=t.useState(""),[d,l]=t.useState(!1),[c,a]=t.useState(""),p=m();t.useEffect(()=>{const r=new URLSearchParams(window.location.search).get("token");r?u(r):a("No reset token found in URL.")},[]);const w=async()=>{if(!o)return a("Missing token.");try{const s=await fetch(`${h}/auth/reset-password`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:o,newPassword:n})}),r=await s.json();if(!s.ok)return a(r.error||"Reset failed.");l(!0),setTimeout(()=>p("/user-auth"),3e3)}catch{a("Something went wrong.")}};return e.jsxs("div",{className:"p-6 max-w-md mx-auto space-y-4",children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Reset Your Password"}),d?e.jsx("p",{className:"text-green-400",children:"âœ… Password reset! Redirecting..."}):e.jsxs(e.Fragment,{children:[e.jsx("input",{type:"password",className:"input input-bordered w-full",placeholder:"Enter your new password",value:n,onChange:s=>i(s.target.value)}),e.jsx("button",{className:"btn btn-primary w-full",onClick:w,children:"Reset Password"}),c&&e.jsx("p",{className:"text-red-400",children:c})]})]})}export{f as default};
