import{a as y,u as N,r as l,j as e,H as f}from"./index-yNFFM0-c.js";const m="https://beydecks-production.up.railway.app/api";function w(){const{id:d}=y(),h=N(),[s,u]=l.useState(null),[n,r]=l.useState(1),[c,p]=l.useState("All"),o=6;if(l.useEffect(()=>{fetch(`${m}/products/${d}`).then(t=>t.json()).then(u).catch(t=>console.error("Failed to fetch product:",t))},[d]),!s)return e.jsx("div",{className:"p-6 text-center",children:"Loading..."});const j=Array.from(new Set(s.listings.map(t=>t.country))),a=c==="All"?s.listings:s.listings.filter(t=>t.country===c),i=Math.ceil(a.length/o),g=a.slice((n-1)*o,n*o),x=s.imageUrl.startsWith("data:")?s.imageUrl:`${m}${s.imageUrl}`;return e.jsxs(e.Fragment,{children:[e.jsxs(f,{children:[e.jsxs("title",{children:[s.title," — Buy Beyblade Product"]}),e.jsx("meta",{name:"description",content:s.description}),e.jsx("meta",{property:"og:title",content:`${s.title} — Buy Beyblade Product`}),e.jsx("meta",{property:"og:description",content:s.description}),e.jsx("meta",{property:"og:image",content:x}),e.jsx("meta",{property:"og:url",content:`https://www.metabeys.com/shop/${s.id}`}),e.jsx("meta",{name:"robots",content:"index, follow"})]}),e.jsxs("div",{className:"p-6 max-w-5xl mx-auto space-y-6",children:[e.jsx("h1",{className:"text-3xl font-bold text-center",children:s.title}),e.jsx("img",{src:x,alt:s.title,className:"mx-auto max-h-64 object-contain"}),e.jsx("div",{className:"border border-gray-600 rounded-lg p-4 bg-base-200 max-w-3xl mx-auto",children:e.jsx("p",{className:"text-center text-gray-300",children:s.description})}),e.jsxs("div",{className:"text-center",children:[e.jsxs("h2",{className:"text-xl font-semibold mt-8 mb-2",children:[a.length," Store",a.length!==1&&"s"," Available"]}),e.jsxs("select",{className:"select select-bordered mt-2",value:c,onChange:t=>{p(t.target.value),r(1)},children:[e.jsx("option",{value:"All",children:"All Countries"}),j.map(t=>e.jsx("option",{value:t,children:t},t))]})]}),e.jsx("div",{className:"overflow-x-auto max-w-3xl mx-auto",children:e.jsxs("table",{className:"table w-full text-center",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Store"}),e.jsx("th",{children:"Country"}),e.jsx("th",{children:"Buy"})]})}),e.jsx("tbody",{children:g.map((t,b)=>e.jsxs("tr",{children:[e.jsx("td",{children:t.storeName}),e.jsx("td",{children:t.country}),e.jsx("td",{children:e.jsx("a",{href:t.buyLink,target:"_blank",rel:"noopener noreferrer",className:"btn btn-sm btn-outline",children:"Buy Now"})})]},b))})]})}),i>1&&e.jsxs("div",{className:"flex justify-center items-center gap-2 mt-6",children:[e.jsx("button",{className:"btn btn-sm",disabled:n===1,onClick:()=>r(n-1),children:"⬅️ Prev"}),e.jsxs("span",{className:"px-3 text-sm",children:["Page ",n," of ",i]}),e.jsx("button",{className:"btn btn-sm",disabled:n===i,onClick:()=>r(n+1),children:"Next ➡️"})]}),e.jsx("div",{className:"text-center",children:e.jsx("button",{className:"btn mt-6",onClick:()=>h(-1),children:"← Back to Shop"})})]})]})}export{w as default};
